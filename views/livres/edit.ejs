<!DOCTYPE html>
<html lang="fr">
<head>
  <%- include('../partials/head') %>
  <title>Modifier un Livre</title>
</head>
<body>
  <%- include('../partials/navbar') %>

  <div class="container mt-5">
    <h1 class="mb-4 text-primary fw-bold">✏️ Modifier le Livre</h1>

    <% if (typeof erreur !== 'undefined') { %>
      <div class="alert alert-danger" role="alert">
        <%= erreur %>
      </div>
    <% } %>

    <div class="card shadow-sm border-0">
      <div class="card-body">
        <form action="/livres/<%= livre._id %>?_method=PUT" method="POST">
          <div class="mb-3">
            <label for="isbn" class="form-label">ISBN :</label>
            <input type="text" class="form-control" id="isbn" name="isbn" value="<%= livre.isbn %>" required>
          </div>

          <div class="mb-3">
            <label for="titre" class="form-label">Titre :</label>
            <input type="text" class="form-control" id="titre" name="titre" value="<%= livre.titre %>" required>
          </div>

          <div class="mb-3">
            <label for="auteur" class="form-label">Auteur :</label>
            <input type="text" class="form-control" id="auteur" name="auteur" value="<%= livre.auteur %>" required>
          </div>

          <div class="mb-3">
            <label for="categorie" class="form-label">Catégorie :</label>
            <input type="text" class="form-control" id="categorie" name="categorie" value="<%= livre.categorie %>" required>
          </div>

          <div class="mb-3">
            <label for="anneePublication" class="form-label">Année de publication :</label>
            <input type="number" class="form-control" id="anneePublication" name="anneePublication" value="<%= livre.anneePublication %>" required>
          </div>

          <div class="mb-3">
            <label for="quantiteDisponible" class="form-label">Quantité disponible :</label>
            <input type="number" class="form-control" id="quantiteDisponible" name="quantiteDisponible" value="<%= livre.quantiteDisponible %>" required min="0">
          </div>

          <div class="mb-4">
            <label for="description" class="form-label">Description :</label>
            <textarea class="form-control" id="description" name="description" rows="3"><%= livre.description %></textarea>
          </div>

          <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save me-1"></i>Mettre à jour
            </button>
            <a href="/livres/<%= livre._id %>" class="btn btn-secondary">
              <i class="fas fa-arrow-left me-1"></i>Annuler
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <%- include('../partials/footer') %>
</body>
</html>
